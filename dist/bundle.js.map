{"version":3,"sources":["webpack:///webpack/bootstrap 989f0c3e9be7f0db0411","webpack:///./src/main.js","webpack:///./src/main.scss","webpack:///./src/H5.js"],"names":["delay","duration","dd","h5","$","document","querySelector","selector","$$","querySelectorAll","H5","animations","windowHeight","isSupportTouch","window","documentElement","clientHeight","windowWidth","clientWidth","originWidth","originHeight","scale","startY","currentPage","prevPage","isMoving","isPageMoved","delays","sections","totalPage","length","isMouseDown","addEventListener","className","init","initTouchEvent","initPageScale","initMouseEvent","startAnimation","winWidth","winHeight","setAttribute","classList","add","$dom","position","isNext","translateYAnimate","setTimeout","transitionend","bind","currentDOM","prevBtn","nextBtn","onWheelDelta","onTouchstart","onTouchmove","onTouchend","onClickPageBtn","index","num","remove","style","transition","webkitTransition","transform","webkitTransform","Array","prototype","forEach","call","ele","i","clearAnimation","eles","delayAnimate","data","clearTimeout","getSectionByIndex","opacity","animation","webkitAnimation","animateEles","anim","subi","clock","name","push","type","e","isPanUp","setCurrentPage","targetDom","setPosition","Null","getBoundingClientRect","height","scrollTo","isWheelUp","wheelDelta","y","isMouse","getCurrentY","preventDefault","isLastScreen","isFirstScreen","translateY","getPanDistance","changedTouches","screenY","agent","navigator","userAgent","test","isClick"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 989f0c3e9be7f0db0411\n **/","import './main.scss'\nimport H5 from './H5.js'\n\nconst delay = 300\nconst duration = 1000\nconst dd = delay + duration\n\nconst h5 = new H5([\n  [\n    {\"name\":\"bounceInDown 1s ease 0s 1 normal both\",\"delay\":dd * 0},\n    {\"name\":\"fadeInUp 1s ease 0s 1 normal both\",\"delay\":dd * 0},\n    {\"name\":\"zoomIn 1s ease 0s 1 normal both\",\"delay\":dd * 1},\n    {\"name\":\"puffIn 1s ease 0s 1 normal both\",\"delay\":dd * 1},\n    {\"name\":\"tada 1s ease 0s 1 normal both\",\"delay\":dd * 2},\n  ],\n\n  [\n    {\"name\":\"fadeInLeft 1s ease 0s 1 normal both\",\"delay\":dd * 0},\n    {\"name\":\"fadeInDown 1s ease 0s 1 normal both\",\"delay\":dd * 0},\n    {\"name\":\"bounceIn 1s ease 0s 1 normal both\",\"delay\":dd * 1},\n    {\"name\":\"wobble 1s ease 0s 1 normal both\",\"delay\":dd * 2},\n    {\"name\":\"fadeInLeft 1s ease 0s 1 normal both\",\"delay\":dd * 3},\n    {\"name\":\"fadeInRight 1s ease 0s 1 normal both\",\"delay\":dd * 4},\n    {\"name\":\"fadeInLeft 1s ease 0s 1 normal both\",\"delay\":dd * 5},\n    {\"name\":\"lightSpeedIn 1s ease 0s 1 normal both\",\"delay\":dd * 6},\n    {\"name\":\"puffIn 1s ease 0s 1 normal both\",\"delay\":dd * 6},\n  ],\n\n  [\n    {\"name\":\"bounceInDown 1s ease 0s 1 normal both\",\"delay\":dd * 0},\n    {\"name\":\"fadeInUp 1s ease 0s 1 normal both\",\"delay\":dd * 1},\n    {\"name\":\"puffIn 1s ease 0s 1 normal both\",\"delay\":dd * 1},\n    {\"name\":\"fadeInUp 1s ease 0s 1 normal both\",\"delay\":dd * 2},\n    {\"name\":\"puffIn 1s ease 0s 1 normal both\",\"delay\":dd * 2},\n    {\"name\":\"fadeInUp 1s ease 0s 1 normal both\",\"delay\":dd * 3},\n    {\"name\":\"puffIn 1s ease 0s 1 normal both\",\"delay\":dd * 3},\n  ],\n\n  [\n    {\"name\":\"zoomIn 4s ease 0s 1 normal both\",\"delay\":dd * 0},\n    {\"name\":\"puffIn 4s ease 0s 1 normal both\",\"delay\":dd * 0},\n    {\"name\":\"fadeInUp 1s ease 0s 1 normal both\",\"delay\":dd * 1},\n    {\"name\":\"bounceInRight 1s ease 0s 1 normal both\",\"delay\":dd * 1},\n    {\"name\":\"tada 1s ease 0s 1 normal both\",\"delay\":dd * 2},\n    {\"name\":\"bounceInLeft 1s ease 0s 1 normal both\",\"delay\":dd * 1},\n  ],\n])\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main.scss\n ** module id = 1\n ** module chunks = 0\n **/","const $ = selector => document.querySelector(selector)\r\nconst $$ = selector => document.querySelectorAll(selector)\r\n\r\nclass H5 {\r\n  constructor (animations) {\r\n    // 设置默认参数\r\n    this.windowHeight = this.isSupportTouch() ? window.document.documentElement.clientHeight : 480\r\n    this.windowWidth = this.isSupportTouch() ? window.document.documentElement.clientWidth : 320\r\n    this.originWidth = 320 // 基准宽度\r\n    this.originHeight = 480 // 基准高度\r\n    this.scale = 1\r\n    this.startY = null\r\n    this.currentPage = 0 // 当前页\r\n    this.prevPage = 0 // 之前页\r\n    this.isMoving = false // section 是否在自动运动中\r\n    this.isPageMoved = false // section 是否被手指带动了\r\n    this.duration = 0.4 // 单位秒\r\n    this.delays = [] // 延迟动画函数队列\r\n    this.sections = $$('section') // dom section 集合\r\n    this.totalPage = this.sections.length\r\n    this.animations = animations // 动画配置\r\n\r\n    this.isMouseDown = false\r\n    window.addEventListener('load', e => {\r\n      $('#loader').className = 'hidden'\r\n      this.init()\r\n    })\r\n  }\r\n\r\n  init(){\r\n    this.initTouchEvent()\r\n    // 判断触摸设备\r\n    if(this.isSupportTouch()) {\r\n      this.initPageScale()\r\n    }else{\r\n      this.initMouseEvent()\r\n    }\r\n    this.startAnimation(this.animations[0])\r\n  }\r\n\r\n  /**\r\n   * 初始化页面缩放\r\n   */\r\n  initPageScale(){\r\n    let scale = 1\r\n    const winWidth = this.windowWidth\r\n    const winHeight = this.windowHeight\r\n    if(winWidth / winHeight >= this.originWidth / this.originHeight){\r\n      scale = winHeight / this.originHeight\r\n    }else{\r\n      scale = winWidth / this.originWidth\r\n    }\r\n    this.scale = scale\r\n    $('[name=\"viewport\"]').setAttribute(\"content\", `width=${this.originWidth}, initial-scale=${scale}, maximum-scale=${scale}, user-scalable=no`)\r\n  }\r\n\r\n  /**\r\n   * 初始化各个section的位置\r\n   */\r\n  initPosition(){\r\n    this.sections[0].classList.add('currentSection')\r\n  }\r\n\r\n  /**\r\n   * 使该id屏置于顶部或底部待滚动：top or bottom\r\n   */\r\n  setPosition($dom, position){\r\n    $dom.classList.add(`moveSection`)\r\n    $dom.setAttribute('data-position', position)\r\n  }\r\n\r\n  scrollTo($dom, isNext) {\r\n    this.isMoving = true\r\n    this.isPageMoved = false\r\n    this.translateYAnimate($dom, this.windowHeight * (isNext ? -1 : 1))\r\n    setTimeout(this.transitionend.bind(this), this.duration * 1000)\r\n  }\r\n\r\n  initMouseEvent(){\r\n    const currentDOM = document\r\n    const prevBtn = $('#prev-btn')\r\n    const nextBtn = $('#next-btn')\r\n    currentDOM.addEventListener('mousewheel', this.onWheelDelta.bind(this))\r\n    currentDOM.addEventListener('mousedown', this.onTouchstart.bind(this))\r\n    currentDOM.addEventListener('mousemove', this.onTouchmove.bind(this))\r\n    currentDOM.addEventListener('mouseup', this.onTouchend.bind(this))\r\n    prevBtn.addEventListener('click', this.onClickPageBtn.bind(this, 'prev'))\r\n    nextBtn.addEventListener('click', this.onClickPageBtn.bind(this, 'next'))\r\n  }\r\n\r\n  initTouchEvent(){\r\n    const currentDOM = document\r\n    currentDOM.addEventListener('touchstart', this.onTouchstart.bind(this))\r\n    currentDOM.addEventListener('touchmove', this.onTouchmove.bind(this))\r\n    currentDOM.addEventListener('touchend', this.onTouchend.bind(this))\r\n  }\r\n\r\n  getSectionByIndex(index){\r\n    if(!this.sections){\r\n      this.sections = $$('section')\r\n      return this.sections[index]\r\n    }else{\r\n      return this.sections[index]\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 屏幕动画到指定Y\r\n   */\r\n  translateYAnimate($dom, num){\r\n    const duration = this.duration\r\n    num = num / this.scale\r\n    $dom.classList.remove('panSection')\r\n    $dom.classList.add('moveSection')\r\n    $dom.style.transition = $dom.style.webkitTransition = `all ${duration}s ease-in`\r\n    $dom.style.transform = $dom.style.webkitTransform = `translate3d(0, ${num}px, 0)`\r\n  }\r\n\r\n  /**\r\n   * 指定section dom，无动画，用于跟随手指\r\n   */\r\n  translateY($dom, num){\r\n    $dom.classList.add('panSection')\r\n    $dom.classList.remove('moveSection')\r\n    $dom.style.transition = $dom.style.webkitTransition = `all 0s`\r\n    $dom.style.transform = $dom.style.webkitTransform = `translate3d(0, ${num}px, 0)`\r\n  }\r\n\r\n  /**\r\n   * css动画执行完毕回调\r\n   */\r\n  transitionend(){\r\n    Array.prototype.forEach.call($$('section'), (ele, i)=>{\r\n      ele.style.webkitTransition = ele.style.transition = 'none'\r\n      ele.classList.remove('currentSection', 'moveSection')\r\n      if(this.currentPage === i){\r\n        ele.classList.remove('moveSection')\r\n        ele.classList.add('currentSection')\r\n      }else{\r\n        ele.style.webkitTransform = ele.style.transform = 'none'\r\n      }\r\n    })\r\n\r\n    this.clearAnimation(this.prevPage)\r\n    this.startAnimation(this.animations[this.currentPage])\r\n    this.isMoving = false\r\n  }\r\n\r\n  startAnimation(eles){\r\n    this.delayAnimate(eles)\r\n  }\r\n\r\n  clearAnimation(prevPage){\r\n    // 清理之前的delay\r\n    this.delays.forEach((data)=>{\r\n      clearTimeout(data)\r\n    })\r\n    this.delays = []\r\n    // 清理之前的动画\r\n    Array.prototype.forEach.call(this.getSectionByIndex(prevPage).querySelectorAll('.animate-ele'), ele => {\r\n      ele.style.opacity = 0\r\n      ele.style.animation = ele.style.webkitAnimation = 'none'\r\n    })\r\n  }\r\n\r\n  // 单个animate-ele\r\n  delayAnimate(eles){\r\n    if(!eles) return\r\n    const currentPage = this.currentPage\r\n    const animateEles = this.getSectionByIndex(currentPage).querySelectorAll('.animate-ele')\r\n    eles.forEach((anim, subi)=>{\r\n      const clock = setTimeout(()=>{\r\n        animateEles[subi].style.webkitAnimation = animateEles[subi].style.animation = eles[subi].name\r\n        animateEles[subi].style.opacity = 1\r\n      }, eles[subi].delay)\r\n      this.delays.push(clock)\r\n    })\r\n  }\r\n\r\n  onClickPageBtn(type, e){\r\n    if(this.isMoving) return\r\n    const isPanUp = type === 'next'\r\n    this.setCurrentPage(e, isPanUp, true)\r\n    const targetDom = this.getSectionByIndex(this.currentPage)\r\n    let isNext\r\n    if(isPanUp){\r\n      isNext = true\r\n      this.setPosition(targetDom, 'bottom')\r\n      const Null = targetDom.getBoundingClientRect().height\r\n    }else{\r\n      isNext = false\r\n      this.setPosition(targetDom, 'top')\r\n      const Null = targetDom.getBoundingClientRect().height\r\n    }\r\n    this.scrollTo(targetDom, isNext)\r\n  }\r\n\r\n  onWheelDelta(e){\r\n    if(this.isMoving) return\r\n    this.setCurrentPage(e, !this.isWheelUp(e))\r\n    const targetDom = this.getSectionByIndex(this.currentPage)\r\n    let isNext\r\n    if(!this.isWheelUp(e)){\r\n      isNext = true\r\n      this.setPosition(targetDom, 'bottom')\r\n      const Null = targetDom.getBoundingClientRect().height\r\n    }else{\r\n      isNext = false\r\n      this.setPosition(targetDom, 'top')\r\n      const Null = targetDom.getBoundingClientRect().height\r\n    }\r\n    this.scrollTo(targetDom, isNext)\r\n  }\r\n\r\n  /**\r\n   * 判断滚轮是否向上滚\r\n   */\r\n  isWheelUp(e){\r\n    return e.wheelDelta > 0 ? true : false\r\n  }\r\n\r\n  /**\r\n   * 手指刚刚接触到屏幕执行\r\n   */\r\n  onTouchstart(e) {\r\n    if(typeof e.y === 'number'){\r\n      this.isMouse = true\r\n      this.isMouseDown = true\r\n    }\r\n    this.startY = this.getCurrentY(e)\r\n  }\r\n\r\n  /**\r\n   * 滑动事件时的动作\r\n   */\r\n  onTouchmove(e){\r\n    e.preventDefault()\r\n    if(!this.isSupportTouch()) {\r\n      if(!this.isMouseDown) return\r\n    }\r\n    this.isPageMoved = true\r\n    if(this.isMoving) return\r\n    let targetDom\r\n    // 向上滑\r\n    if(this.isPanUp(e)){\r\n      targetDom = this.isLastScreen() ? this.getSectionByIndex(0) : this.getSectionByIndex(this.currentPage + 1)\r\n      this.setPosition(targetDom, 'bottom')\r\n    // 向下滑\r\n    }else{\r\n      targetDom = this.isFirstScreen() ? this.getSectionByIndex(this.totalPage - 1) : this.getSectionByIndex(this.currentPage - 1)\r\n      this.setPosition(targetDom, 'top')\r\n    }\r\n    // 跟随手指移动\r\n    this.translateY(targetDom, this.getPanDistance(e))\r\n  }\r\n\r\n  /**\r\n   * 手指离开时的回调函数\r\n   */\r\n  onTouchend(e){\r\n    this.isMouseDown = false\r\n    if(this.isMoving || this.getPanDistance(e) === 0 || ! this.isPageMoved) return\r\n    this.isMoving = true\r\n    this.isPageMoved = false\r\n    // 计算currentPage\r\n    this.setCurrentPage(e, this.isPanUp(e))\r\n    this.scrollTo(this.getSectionByIndex(this.currentPage), this.isPanUp(e))\r\n  }\r\n\r\n  // 获取当前Y坐标\r\n  getCurrentY(e){\r\n    if(!this.isSupportTouch()) return e.y\r\n    return e.changedTouches[0].screenY\r\n  }\r\n\r\n  /**\r\n   * 获取滑动距离\r\n   */\r\n  getPanDistance(e){\r\n    return this.getCurrentY(e) - this.startY\r\n  }\r\n\r\n  /**\r\n   * 是否向上滑动\r\n   */\r\n  isPanUp(e){\r\n    return this.getPanDistance(e) < 0\r\n  }\r\n\r\n  /**\r\n   * 是否在第一屏\r\n   */\r\n  isFirstScreen(){\r\n    return this.currentPage === 0\r\n  }\r\n\r\n  /**\r\n   * 是否在最后一屏\r\n   */\r\n  isLastScreen(){\r\n    return this.currentPage + 1 === this.totalPage\r\n  }\r\n\r\n  isSupportTouch(){\r\n    const agent = navigator.userAgent\r\n    return /Android/.test(agent) || /BlackBerry/.test(agent) || /iPhone|iPad|iPod/.test(agent) || /IEMobile/.test(agent)\r\n  }\r\n\r\n  /**\r\n   * 设置当前页数和之前页数\r\n   */\r\n  setCurrentPage(e, isPanUp, isClick){\r\n    // 当手指未移动时\r\n    if(this.getCurrentY(e) === this.startY && !isClick) return\r\n\r\n    this.prevPage = this.currentPage\r\n\r\n    // 当在第一屏且向下滑动\r\n    if(this.isFirstScreen() && ! isPanUp) {\r\n      this.currentPage = this.totalPage - 1\r\n      return\r\n    }\r\n    // 当到最后一屏且向上滑动\r\n    if(this.isLastScreen() && isPanUp) {\r\n      this.currentPage = 0\r\n      return\r\n    }\r\n\r\n    // 正常情况下的滑动\r\n    if(isPanUp){\r\n      this.currentPage ++\r\n    }else{\r\n      this.currentPage --\r\n    }\r\n  }\r\n}\r\n\r\nexport default H5\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/H5.js\n **/"],"sourceRoot":""}